<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>SQRL | Introduction </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    

    <!-- fonts -->
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Ubuntu:300,400,500,600,700" rel="stylesheet">

    <!-- stylesheets -->
    <link rel="stylesheet" href="/sqrl/style/doc.css">

    <!-- favicon -->
    <link rel="icon" href="/sqrl/images/favicon.ico">

    

  </head>
  <body>

   <script>window.__INITIAL_STATE__ = {"page":{"title":"Introduction","path":"introduction.html"},"data":{"navigation":{"logo":{"text":"SQRL Documentation","type":"link","path":"index.html"},"main":[{"text":"Documentation","type":"link","path":"index.html"},{"text":"Examples","type":"label","children":[{"text":"Redis Database","type":"link","path":"examples/redis.html"},{"text":"REPL","type":"link","path":"examples/repl.html"},{"text":"Wikipedia","type":"link","path":"examples/wikipedia.html"}]},{"text":"Concepts","type":"label","children":[{"text":"Entities","type":"link","path":"language/entities.html"},{"text":"Labels","type":"link","path":"language/labels.html"},{"text":"Simple Counters","type":"link","path":"counters/simple.html"},{"text":"Unique Counters","type":"link","path":"counters/unique.html"},{"text":"Rate limiters","type":"link","path":"counters/ratelimit.html"},{"text":"Sessionization","type":"link","path":"counters/session.html"},{"text":"Text Pattern Matching","type":"link","path":"language/textpattern.html"},{"text":"Where Clauses","type":"link","path":"language/where.html"}]},{"text":"Standard Library","type":"label","children":[{"text":"Assert Functions","type":"link","path":"stdlib/assert.html"},{"text":"Block Functions","type":"link","path":"stdlib/block.html"},{"text":"Bool Functions","type":"link","path":"stdlib/bool.html"},{"text":"Compare Functions","type":"link","path":"stdlib/compare.html"},{"text":"Data Functions","type":"link","path":"stdlib/data.html"},{"text":"Date Functions","type":"link","path":"stdlib/date.html"},{"text":"Entity Functions","type":"link","path":"stdlib/entity.html"},{"text":"Language Functions","type":"link","path":"stdlib/language.html"},{"text":"List Functions","type":"link","path":"stdlib/list.html"},{"text":"Load Functions","type":"link","path":"stdlib/load.html"},{"text":"Log Functions","type":"link","path":"stdlib/log.html"},{"text":"Math Functions","type":"link","path":"stdlib/math.html"},{"text":"Source Functions","type":"link","path":"stdlib/source.html"},{"text":"String Functions","type":"link","path":"stdlib/string.html"},{"text":"Time Functions","type":"link","path":"stdlib/time.html"},{"text":"Type Functions","type":"link","path":"stdlib/type.html"}]},{"text":"Function Packages","type":"label","children":[{"text":"sqrl-redis-functions","type":"link","path":"packages/sqrl-redis-functions.html"},{"text":"sqrl-text-functions","type":"link","path":"packages/sqrl-text-functions.html"}]},{"text":"Defining Functions","type":"label","children":[{"text":"Simple Functions","type":"link","path":"functions/simple.html"},{"text":"Statements","type":"link","path":"functions/statement.html"},{"text":"When Clauses","type":"link","path":"functions/when.html"},{"text":"Custom Functions","type":"link","path":"functions/custom.html"}]},{"text":"Production Deployments","type":"label","children":[{"text":"Http Server","type":"link","path":"deployment/server.html"},{"text":"Async Queues","type":"link","path":"deployment/async.html"}]},{"text":"External Resources","type":"label"},{"text":"View on GitHub","type":"link","path":"https://github.com/twitter/sqrl"}]}},"config":{"timezone":"UTC","root":"/sqrl/","time_format":"HH:mm:ss","theme":"sqrl-hexo-theme-doc","theme_config":{"swagger_ui":{"version":2,"permalinks":true,"api_explorer":true,"download":"Download specification","show_extensions":false,"deep_linking":true,"display_operation_id":false,"doc_expansion":"none"},"search":{"skip":false,"background":false,"route":"/lunr.json"},"favicon":"images/favicon.ico"}}}</script>

    <div id="react-navigation-root"><div class="doc-navigation" data-reactroot><nav class="doc-navbar"><a href="/sqrl/index.html" class="doc-navbar__logo"><img src="/sqrl/images/logo.png" class="doc-navbar__logo__img"><span class="doc-navbar__logo__text">SQRL Documentation</span></a><i class="dc-icon dc-icon--close dc-icon--interactive doc-sidebar-close doc-navbar__sidebar-close doc-navbar__sidebar-close--desktop"></i><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-navbar__sidebar-toggle"></i></nav><nav class="doc-sidebar"><div class="doc-sidebar__vertical-menu"><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-sidebar-toggle--primary doc-sidebar__vertical-menu__item"></i><i class="dc-icon dc-icon--search dc-icon--interactive doc-sidebar__vertical-menu__item doc-sidebar__vertical-menu__item--primary"></i></div><div class="doc-sidebar-content"><div class="doc-sidebar__search-form"></div><ul class="doc-sidebar-list"></ul></div></nav></div></div>
    <div class="doc-content">
  <div class="dc-page">
    <div class="dc-card">
      <div id="react-search-results-root"></div>
      <div id="page-content" class="doc-formatting">
        <html><head><meta name="generator" content="Hexo 3.8.0"></head><body><h1 id="SQRL"><a href="#SQRL" class="headerlink" title="SQRL"></a>SQRL</h1><p><strong>A Safe, Stateful Rules Language for Event Streams</strong></p>
<h3 id="boom-This-is-a-beta-release-boom"><a href="#boom-This-is-a-beta-release-boom" class="headerlink" title=":boom: This is a beta release. :boom:"></a><img class="emoji" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png?v8" title=":boom:"> This is a <strong>beta release</strong>. <img class="emoji" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png?v8" title=":boom:"></h3><p>The code here <em>was</em> used by Smyte pre-acquisition but has not been tested in a production since it was extracted from the code base. We plan to work with the community on making it production ready, but we want to set expectations correctly. We hope you find it useful. <img class="emoji" src="https://github.githubassets.com/images/icons/emoji/shipit.png?v8" title=":squirrel:"></p>
<h3 id="Why-SQRL"><a href="#Why-SQRL" class="headerlink" title="Why SQRL"></a>Why SQRL</h3><p>At Smyte we needed a solution that would allow our customers to write their own rules to fight spam on their websites. We wanted to provide a powerful tool but with a simple language that reads like SQL. SQRL (Smyte Query &amp; Rules Language) is a language and runtime that has been used to stop a variety of attacks on large social websites and marketplaces.</p>
<h2 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h2><p><strong>SQRL</strong> is designed to be used as a library, but the easiest way to see what it can do is to try out the command line interface.</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --global sqrl-cli</span><br><span class="line">$ cat &gt; simple.sqrl</span><br><span class="line">LET ActionData := input();</span><br><span class="line">LET ActionName := jsonValue(ActionData, &apos;$.name&apos;);</span><br><span class="line"></span><br><span class="line">$ sqrl run simple.sqrl -s &apos;ActionData={&quot;name&quot;:&quot;login&quot;}&apos; ActionName</span><br><span class="line">&#x2713; 2019-01-14 15:09 action was allowed.</span><br><span class="line">ActionName=&quot;login&quot;</span><br></pre></td></tr></tbody></table></figure>
<p>Once you&#x2019;ve got that running, you can dive into our example section:</p>
<ul>
<li>Set up external state storage in <a href="examples/redis.html">Redis</a></li>
<li>See a real-life use case on <a href="examples/wikipedia.html">Wikipedia</a></li>
</ul>
<h3 id="Extending-SQRL-with-functions-and-counters"><a href="#Extending-SQRL-with-functions-and-counters" class="headerlink" title="Extending SQRL with functions and counters"></a>Extending SQRL with functions and counters</h3><p>The <a href="https://github.com/twitter/sqrl/tree/master/packages/sqrl" target="_blank" rel="noopener"><code>sqrl</code></a> package includes a base set of functions that should be common to any application. None of them require any external network access or databases, and should fulfill your basic.</p>
<p>We&#x2019;ve included <a href="https://github.com/twitter/sqrl/tree/master/packages/sqrl-text-functions" target="_blank" rel="noopener"><code>sqrl-text-functions</code></a> which has more advanced text analysis functions such as <code>patternMatch</code> (RE2 regular expression text based pattern matching), and <code>simhash()</code> which returns similar values for similar text.</p>
<p>The real power of SQRL comes with its streaming counters. While the <em>Redis database</em> is not the best choice for large production systems, it is one of the most wildly available and easy to set up choices. The <a href="https://github.com/twitter/sqrl/tree/master/packages/sqrl-redis-functions" target="_blank" rel="noopener"><code>sqrl-redis-functions</code></a> builds a couple of common counters on top of this database:</p>
<ul>
<li>count() - Streaming counters (<em>How many requests from this IP in the last day</em>)</li>
<li>countUnique() - Streaming set cardinatily (<em>How many unique users on this IP in the last day</em>)</li>
<li>rateLimit() - Token-bucket based rate limiter (<em>Have we seen more than X requests per hour</em>)</li>
<li>sessionize() - Sessionization (<em>When did the current session from this IP start</em>)</li>
</ul>
<p>These packages are all designed as examples, we built SQRL to be extendable with functions you need, as well as any new databases as you require. We&#x2019;re hoping the community can come together and use/extend these tools to protect online user.</p>
<h2 id="API-Reference"><a href="#API-Reference" class="headerlink" title="API Reference"></a>API Reference</h2><p>For detailed information view the <a href="https://twitter.github.io/sqrl/reference/globals.html">API Reference</a>.</p>
</body></html>
        <div id="react-support-footer-root"></div>
      </div>
    </div>
  </div>
</div>

    


    

    <!-- js vendors -->
    <script src="//code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lunr.js/2.1.0/lunr.min.js"></script>

    <!-- js source  -->
    <script src="/sqrl/script/doc.js"></script>

    

  </body>
</html>
